<!doctype html>
<html>
  <head>
    <title>Google Sign-In</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <style>
          body
          { 
            padding-top:150px; 

          }
          
      </style>
  </head>
  <body>
    <div class="container">
            <div class="col-sm-6">
                        <p>
                            <img src = "https://lh3.googleusercontent.com/a/ACg8ocJbw186zUEdeog4bDOqatBkMK3Cce65fDGndgIgAIgvthUT=s360-c-no" class="rounded-circle" style="max-width:30%;" alt = " NO IMAGE"><br>

                            <p><strong>Hello <%= user.displayName %></strong> </p> 
                            <p><strong> You are signed in with the email <%= user.emails[0].value %></strong> </p>

                        </p>
                        
                            <p><strong>Date and Time :</strong></p>
                              <span id="datetime"></span>
                                  <script>
                                    
                                    function updateDateTime() {
                                      const now = new Date();
                                      const currentDateTime = now.toLocaleString();
                                      
                                      document.querySelector('#datetime').textContent = currentDateTime;
                                    }
                                    setInterval(updateDateTime, 1000);
                                  </script>


                        <!-- Phase 2 task code : input field to print the pattern -->
                        <form action="/" method="post">
                        <button class="btn btn-lg btn-primary" type="submit" name="button">Sign Out</button> <br>
                        </div>
                        <form action= "output.html" method="post">
                          
                          <!-- <label for="numLines">Number of Lines (1-100):</label>
                          <input type="number" id="numLines" min="1" max="100" value="5">
                          <button id="displayButton">Display</button> -->
                          <label for="numLines"> <strong> Enter number of lines</strong> </label>
                          <input type = "number" id="numLines" value=" " min="1" max="100">
                          <button id="displayButton" class="btn-danger">Submit</button>
                          <div id="pattern-container"></div>

                          <script>
                            document.getElementById("displayButton").addEventListener("click", () => {
                                const numLines = parseInt(document.getElementById("numLines").value);
                                const word = "FORMULAQSOLUTIONS";
                                const wordLength = word.length;
                                const container = document.getElementById("pattern-container");
                    
                                while (container.firstChild) {
                                    container.removeChild(container.firstChild);
                                }
                    
                                let currentIndex = 0;
                    
                                for (let i = 0; i < numLines; i++) {
                                    let line = document.createElement("div");
                                    line.className = "line";
                                    line.style.marginLeft = `${Math.abs(numLines / 2 - i)}ch`;
                    
                                    for (let j = 0; j < 2 * i + 1; j++) {
                                        let character = document.createElement("span");
                                        character.textContent = word[currentIndex];
                                        currentIndex = (currentIndex + 1) % wordLength;
                                        line.appendChild(character);
                                    }
                    
                                    container.appendChild(line);
                                }
                            });
                        </script>

    </div>
  </body>
</html> 