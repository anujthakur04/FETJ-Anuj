<!doctype html>
<html>
  <head>
    <title>Google Sign-In</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

      <style>
          body
          { 
            padding-top:150px; 

          }
          
      </style>
  </head>
  <body>
    <div class="container">
            <div class="col-sm-6">
                        <p>    
                            <img referrerpolicy="no-referrer"  class="rounded-circle" src="<%= user.photos[0].value %>" alt="Profile Picture">
                            <p><strong>Hello <%= user.displayName %></strong> </p> 
                            <p><strong> You are signed in with the email <%= user.emails[0].value %></strong> </p>

                        </p>
                        
                            <p><strong>Date and Time :</strong></p>
                              <span id="datetime"></span>
                                  <script>
                                    
                                    function updateDateTime() {
                                      const now = new Date();
                                      const currentDateTime = now.toLocaleString();
                                      
                                      document.querySelector('#datetime').textContent = currentDateTime;
                                    }
                                    setInterval(updateDateTime, 1000);
                                  </script>

                        
                        <form action="/logout" method="get">
                            <button class="btn btn-lg btn-primary" type="submit">Sign Out</button>
                        </form>
                            <!-- Phase 2 task code : input field to print the pattern  -->
                            <br><label for="rows"><strong>Number of lines: </strong></label>
                            <input type = "number" id="rows" value=" " min="1" max="100">
                            <button  onclick="generateDiamond()" class="btn btn-danger">Display</button>
                            <div id="output"></div>

                            <script>
                                function generateDiamond() {
                                    let input = document.getElementById("rows").value;

                                    if(input % 2 == 0) {

                                            let row = parseInt(input) / 2;
                                            
                                            let word = "FORMULAQSOLUTIONS";
                                            let wordLength = word.length;

                                            let currentIndex = 0;
                                            let outputDiv = document.getElementById("output");
                                            outputDiv.innerHTML = ""; // Clear previous output

                                            for (let i = 0; i < row; i++) {
                                                for (let j = row; j > i; j--)
                                                    outputDiv.innerHTML += "&nbsp;&nbsp;";
                                                let charactersToPrint = 2 * i + 1;

                                                let cc = charactersToPrint + i;
                                                for (let k = i; k < cc; k++) {
                                                    if (k === wordLength ) {
                                                        k = 0;
                                                        cc = cc - wordLength;
                                                    }
                                                    outputDiv.innerHTML += word[k];
                                                }
                                                outputDiv.innerHTML += "<br>";
                                            }

                                            word = "SOLUTIONSFORMULAQ";
                                            row = row +1;
                                            currentIndex = 0;
                                            for (let i = 0; i < row; i++) {
                                                for (let j = 0; j < i; j++)
                                                    outputDiv.innerHTML += "&nbsp;&nbsp;";
                                                let charactersToPrint = 2 * (row - i) - 2;

                                                let cc = charactersToPrint + i ;
                                                for (let k = i; k <= cc; k++) {
                                                    if (k === wordLength) {
                                                        k = 0;
                                                        cc = cc - wordLength;
                                                    }
                                                    outputDiv.innerHTML += word[k];
                                                }
                                                outputDiv.innerHTML += "<br>";
                                            }

                                    }
                                        
                                }
                            </script>

            </div>
    </div>
  </body>
</html> 